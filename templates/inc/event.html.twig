
<div class="container-xxl">
     <div class="table-container">
        <table class="table align-middle mb-0 bg-white">
            <thead class="bg-light">
            <tr>
                <th>Nom de la sortie</th>
                <th>Date de la sortie</th>
                <th>Clôture</th>
                <th>Inscrit/places</th>
                <th>Etat</th>
                <th>Inscrit</th>
                <th>Organisateur</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for activity in activities %}

            <tr>
                <td>
                        <p class="fw-normal mb-1">{{ activity.name }}</p>
                </td>

                <td>
                        <p class="fw-normal mb-1">{{ activity.startingDateTime | date('d-m-Y H:i:s') }}</p>
                </td>

                <td>
                        <p class="fw-normal mb-1">{{ activity.inscriptionLimitDate | date('d-m-Y H:i:s') }}</p>
                </td>

                <td>
                        <p class="fw-normal mb-1">{{ activity.users.count}} / {{ activity.maxInscription }}</p>
                </td>

                <td>
                    {# Appelle la méthode getStateBadge qui retourne la ligne HTML associée à la bonne valeur de
                    l'énumeration State#}
                    {{ activity.getStateBadge() | raw }}

                </td>
                <td>
                        <p class="fw-normal mb-1">X</p>
                </td>
                <td>
                    <a href="{{ path('app_main_home')}}">
                        <div class="">{{ activity.planner.firstName }} {{ activity.planner.lastName }}</div></a>
                </td>
                <td>
                    <button type="button" class="btn btn-primary">
                        Afficher
                    </button >
                    {% if not activity.users.contains(app.user)
                        and activity.state.value not in ['Annulée','Clôturée','Terminée', 'Archivée']
                        and activity.users.count() < activity.maxInscription %}
                        <a class="btn btn-outline-primary" href="{{ path('activity_register',{'id':activity.id}) }}">S'inscrire</a>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
     </div>
    </div>

